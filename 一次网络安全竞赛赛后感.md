# 一次网络安全竞赛赛后感
跟随学校的大牛参加了一次网络安全竞赛。觉得有一些收获，记录一下。
这次竞赛是我们省首次举办此类比赛，参赛队伍还是蛮多的，足足有60支。我们也是第一次参加这种比赛，都是两眼一摸黑，大约知道是类似于ctf的形式。
虽然没有底，但是有罗老师的参加，我们还是很有信心。在去参加比赛之前，罗老师给我们做了简单介绍，了解了网络攻击的一些步骤方法。最后决定，虽然攻击不一定行，但是准备要充分。就把学校刚到的一批电脑从机房拆了3台下来，作为参赛用机。这3台都是酷睿i7第八代处理器，运算能力没得说，开虚拟机运行问题也不大，唯一的缺点，可能就是逼格不高，别的组都是笔记本，唯独我们整个台式机。显得太low。
出发那天，我们每人一台显示器，一套键鼠，在酒店前台登记时就吸引了不少目光，其他选手都觉得我们太专业了。我们也只好解释，没找到好配置的笔记本，只能这样了。
晚上，市领导组织开会，强调了下纪律，说明了一下赛程和比赛场地，第二天选手报道和赛前培训，第三天个人赛，第四天才是我们参加的团队赛。也好，趁着这些时间，还可以临阵磨枪，搞一下突击。
第二天下午赶到培训地点，已经挤满了人，根本没有位置了，只能站着听。组委会先简单讲了一下比赛的规定，在提问环节，罗老师还问了一下，是怎么分辨靶机和选手机的。当时的讲解老师回答说，靶机是在网段的指定IP上，比如你所在网段的100、200。（这个回答和我们后面比赛的情况完全不同，对我们误导严重。）
后面上来另一个解说老师，演示了两个简单的攻击实例，然后就让团队赛选手退出会场，单独培训个人赛选手了。
回到宾馆，罗老师还找了一个网站给我们练手。最终分析了大赛和我们的情况后，觉得我和谢老师也干不了其他高级的手段，主要熟悉一下工具，给我们准备一些脚本。简单分工后，谢老师就主要准备网站方面，我把目标放在系统爆破上，准备了一个爆破ssh的脚本。为了充分发挥电脑的性能优势，我直接把电脑装成了kali Linux （这中间还出了个麻烦事，不论是用软碟通还是win32diskimager写入镜像都会报无法读取光盘文件的错，直到罗老师用dd命令写入才解决。）
正式比赛前半小时，推送了一个地址，按照座位号登陆，核对信息。桌面上还有一份配置单，主要是要求确认网络是否通畅，检查完毕后没有问题就签字。开始比赛后，推送了两个IP地址，跟我们自己的电脑完全不在同一网段，有很多选手由于之前老师的错误解答，还在尝试登陆100、200那两个地址，直到赛场人员提示，才明白过来，
前一个小时就用来做防护，不准攻击其他人的靶机。这期间我就没什么可做的了，罗老师全身心地加固，也让我不要去打扰他。百无聊赖中我发现一个IP地址的网站首页源码里有着ctfflag的关键字，还做了隐藏，我当时以为这就是一个flag值了（完全忘了主办方说的，所有的key值都在根目录下的一个文件里），有点激动的赶紧记下位置，想着一会儿好去找别人的。
一个小时很快就过去了。这时才发现，如果要攻击别人，最起码得有一个扫描网络的工具。只好看向罗老师，还好他有，于是我就要来地址，找到刚才同样的位置，一番激动提交后，发现并不是，空欢喜一场。这个时候，赛场的大屏幕上已经显示有人发起攻击成功了。
交代一下团队赛的大概情况：每个队分配有两个IP，访问一看，是两个网站，一个用PHP写的，一个用的flask搭的。要求选手对这两台靶机都要做好防护。每队分得的都是同样的网站，还分配了访问的ssh账号和密码，要求选手在防护阶段就要更改默认密码。分得的IP都是101.101段的。
发现自己空欢喜一场后，只得老实运行事先准备好的爆破ssh账号的脚本，我将推送的密码也加到了密码字典中，开始运行脚本。只要从罗老师那里拿到一个IP，我就运行一个，一会儿界面上就全是跳动的字符了。那边谢老师就开始寻找sql注入漏洞，临到中午快吃饭的时候，终于找到一个，赶紧登入后台，上传一个罗老师写好的脚本，顺利拿到flag值。发现这条路行得通，赶紧让他把脚本也拷给我一份。于是我开始运行两种脚本，但我和谢老师都得等罗老师扫出IP后，才能做下一步。我干脆趁这个间隙出去吃饭，反正也是干等着跑字典。
比赛时间为五个小时，期间大赛组委会准备了盒饭，参赛队可以轮流出去用餐。
由于拿到了一个flag，我变得有信心了些，吃饭的时候就在想还有没有其他方法可以拿到别人的靶机IP，忽然就想起边上没有来人的那两组，既然他们没有来，那么系统肯定没有做防护，我只需要拿到他们的服务器地址就好。而参赛账号又是根据座位号而来，我只需要看一下他们的桌号就可以了。想到这我赶紧扒完饭，立马返回赛场，先将自己的IP设置为未到场那一队的，然后访问大赛地址，发现根本没有办法连通，这个办法看来行不通。
每隔20分钟，赛委会会刷新一次flag值，如果没有修复好，每隔20分钟就会被再次攻击，于是谢老师守住刚才找到的漏洞，到点就再来一次。就这么得了两次分，后面就被对方加固了，只得换下一个目标。
我这边一直爆破不了，估计是我的字典太简单了点，但罗老师和谢老师先后找到两台靶机漏洞，一次提交的时候发现被人抢先了（直到这时，我们才发现一个flag只能提交一次），另外有三次成功了。一共得到50分的进攻分，所幸我们的系统都没有被攻击，一直没有掉分。
开赛三小时后，组委会推送了几个公共区域，只要是参赛组成员，都可以访问，从界面上看，应该是一个phpmyadmin的登陆入口，有用户名和密码两个输入框。罗老师提醒我，赶紧用brutesuite爆破一下，这确实是一个办法，我赶紧操作起来。同时，也没有放弃爆破其他的靶机，甚至将公共区域也作为ssh爆破的对象，继续执行脚本。
直到比赛结束，我也没能爆破出一个用户密码，可能还是手里的字典太少太简单了。期间我们的靶机被攻击了一次，扣掉10分。还好是在将要结束时出现这种情况，否则可能会失去更多分数。
最终我们只拿到第13名，而现场坐在我们旁边的“黔西南队”成为了第一防守队。我们紧随其后，为第二防守队。这也符合我们的职业特点，平日里教学生，更多的都是如何做好安全防护，几乎不去考虑攻击别人。
而拿到头等奖的贵州电信，也算实至名归，如果他们都拿不到冠军，可能在平时的网络使用中，更没有隐私可言了。让人觉得有点惋惜的要属“贵州大学队”，他们在比赛的后半程持续发力，不断刷屏，在大部分参赛队都放弃的情况下，依然有办法成功发动攻击，手段十分丰富。可惜防护做得太差，前期失分较多，后期没能填满。
至于我们，头一次参赛，虽然没有拿奖，但成绩不算太难看，尤其防守做得到位，对得起我们“金汤队”的名字。更重要的是开阔了眼界，接触到了行业内的一些高手，认清了自己的位置，同时，也发现了一些网络安全上的学习方向。这些将更好地指导我们往后的教学。
如果下一次再有此种类型的比赛，定然不会如此次般两眼一抹黑。至少会准备一些网络扫描的工具，多准备一些进攻手段。三个人之间的配合将会更有默契，分工更加明确，流程会更清晰。
期待下次能有更好的成绩，也期望能够多参加这类比赛。毕竟，我即将进入这个行业的“老人”队列了，还没有什么能拿得出手的东西呢！
